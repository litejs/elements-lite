!function(r,h,t){function C(a,b,c){for(var d=[],n=a.firstChild,e=D(b);b=n;){if(e(b)){if(c)return b;d.push(b)}for(n=b.firstChild||b.nextSibling;!n&&(b=b.parentNode)!==a;)n=b.nextSibling}return c?null:d}function D(a){return E[a]||(E[a]=Function("_,v,a,b","return "+a.split(W).map(function(a){var c,d,e=["_&&_.nodeType===1"],f=a.replace(X,function(a,b,e,n){d=n+b.length;c=b.trim();return""});(a=a.slice(d).replace(F,function(a,b,c,d,f,g,V){e.push("((v='"+(d||(V?g.slice(1,-1):g)||"").replace(/'/g,"\\'")+
"'),(a='"+c+"'),1)",G[":"==b?c:b]||"(a=_.getAttribute(a))"+(f?"&&"+G[f]:g?"==v":""));return""}))&&"*"!=a&&(e[0]+="&&_.nodeName=='"+a.toUpperCase()+"'");f&&e.push("+"==c?"(a=_.previousSibling)":"(a=_.parentNode)",(c?"a.matches&&a.matches('":"a.closest&&a.closest('")+f+"')");return e.join("&&")}).join("||")))}function f(a,b,c){var d={};a=a.replace(F,function(a,b,c,e,f,g,h){g=h?g.slice(1,-1):g||c;d[b="."==b?(f="~","class"):"#"==b?"id":c]=f&&d[b]?"^"==f?g+d[b]:d[b]+("~"==f?" ":"")+g:g;return""})||"div";
a=(w[a]||(w[a]=h.createElement(a))).cloneNode(!0).attr(d);return c||!b?a:("object"==typeof b?m:p).call(a,b)}function p(a,b){var c,d=0,e=typeof a;if(a){if("string"==e||"number"==e)a=h.createTextNode(a);else if(!("nodeType"in a)&&"length"in a){e=a.length;for(c=h.createDocumentFragment();d<e;)p.call(c,a[d++]);a=c}a.nodeType&&this.insertBefore(a,(!0===b?this.firstChild:"number"==typeof b?this.childNodes[0>b?this.childNodes.length-b-2:b]:b)||null);a.appendHook&&a.appendHook()}return this}function x(a){return-1<
this.className.split(/\s+/).indexOf(a)}function y(a){this.className+=this.className?x.call(this,a)?"":" "+a:a;return this}function H(a){this.className=(" "+this.className+" ").replace(" "+a+" "," ").trim();return this}function I(a,b){1==arguments.length&&(b=!x.call(this,a));return(b?y:H).call(this,a),b}function J(){this.parentNode&&this.parentNode.removeChild(this);Event.removeAll&&Event.removeAll(this);this.killHook&&this.killHook();this.empty&&this.empty();return this}function m(a,b){var c=this;
if(1==arguments.length)return a&&a.constructor===Object?(Object.each(a,function(a,b){m.call(c,b,a)}),c):c.getAttribute(a);!Y||"id"!=a&&"name"!=a&&"checked"!=a?"class"==a?y.call(c,b):b?c.setAttribute(a,b):c.removeAttribute(a):c.mergeAttributes(K("<INPUT "+a+'="'+b+'">'),!1)}function q(a,b,c){var d=(c=!b&&(a.closest("[data-scope]")||c&&c.closest("[data-scope]")))&&q[m.call(c,"data-scope")]||Z;b&&c!==a&&(d=q[++L]=Object.create(d),m.call(a,"data-scope",L));return d}function M(a){var b,c,d=m.call(this,
"data-scope");a=d?q[d]:a||q(this);if(d=m.call(this,"data-bind"))if(b=d,c="n d b r->d&&("+d.replace(aa,function(a,c,d){return u[c]?(N.call(u[c],"once")&&(b=b.replace(a,"")),"(r=b['"+c+"'](n,d,"+(u[c].raw?"'"+d+"'":d)+")||r),"):"n.attr('"+c+"',"+d+".format(d)),"})+"r)",d!=b&&m.call(this,"data-bind",b),Fn(c)(this,a,u))return this;for(d=this.firstChild;d;d=d.nextSibling)1==d.nodeType&&M.call(d,a);O&&"SELECT"==this.nodeName&&this.parentNode.insertBefore(this,this);return this}function v(a){this._nodes=
a}function P(a){function b(a,c,g,h,k,l){for(k=c.length;k<=e[0];)e.shift(),d=d.plugin?d.plugin.done():d.parentNode;g?f.plugins[h]?(d=(new f.plugins[h](d,l)).el,e.unshift(k)):d.append(a):(h&&(d=f(h,0,1).to(d),e.unshift(k)),l&&(k=l.charAt(0),h=l.slice(1),">"==k?(c+" "+h).replace(Q,b):"|"==k||"\\"==k?d.append(h):"/"!=k&&("&"!=k&&(h="txt:El.i18n('"+l.replace(/'/g,"\\'")+"').format(d)"),k=m.call(d,"data-bind"),m.call(d,"data-bind",(k?k+";":"")+h))))}var c=h.createDocumentFragment(),d=c,e=[-1];a.replace(Q,
b);c=c.childNodes;return 1==c.length?c[0]:c}function z(a,b){this.name=b;this.parent=a;this.el=f("div");this.el.plugin=this;return this}function g(a,b){b=g[A(b)];return b[a]||b[a=a.slice(a.indexOf(":")+1)||a]||a}function A(a){return a&&(g[a=(""+a).toLowerCase()]||g[a=a.split("-")[0]])?a:l}function R(a){l!=(l=A(a))&&(g[l]=g[l]||{});return h.documentElement.lang=l}function S(a,b){-1==g.list.indexOf(a)&&g.list.push(a);Object.merge(g[a]||(g[a]={}),b);l||R(a)}function B(a,b,c){var d,e=a._childs;if(!e)for(a._childs=
e=[];d=a.firstChild;)e.push(d),a.removeChild(d);d=e[0];c=/^\s*(\w+) in (\w*)(.*)/.exec(c);c="with(data){var out=[],loop={i:0,offset:0},_1,_2="+c[2]+c[3].replace(/ (limit|offset):\s*(\d+)/ig,";loop.$1=$2")+";if(_2)for(_1 in _2)if(hasOwn.call(_2,_1)&&!(loop.offset&&loop.offset--)){loop.i++;if(loop.limit&&loop.i-loop.offset>loop.limit)break;loop.key=_1;var clone=el.cloneNode(true),scope=El.getScope(clone,data);scope.loop=loop;scope."+c[1]+"=_2[_1];out.push(clone);};return out}";b=Function("hasOwn,el,data",
c)(N,d,b);a.empty().append(b).render();return a}var l,O=!+"\v1",Y=O&&8>(h.documentMode||1),N=Object.prototype.hasOwnProperty,T=h.body,K=h.createElement,U="textContent"in T?"textContent":"innerText",w=f.cache={},e=(r.HTMLElement||r.Element||f)[t],Q=/^([ \t]*)(@?)((?:("|')(?:\\?.)*?\4|[-\w\:.#\[\]=])*)[ \t]*(.*?)$/gm,aa=/[;\s]*(\w+)(?:\s*\:((?:(["'\/])(?:\\?.)*?\3|[^;])*))?/g,u=f.bindings={"class":function(a,b,c,d){I.call(a,c.format(b),null==d||d.fn("_")(b))},checked:function(a,b,c){a.checked=c},disabled:function(a,
b,c){a.disabled=c},each:B,html:function(a,b,c){a.innerHTML=c.format(b)},txt:function(a,b,c){a.txt(c.format(b))},val:function(a,b,c){a.val(c.format(b))}},F=/([.#:[])([-\w]+)(?:\((.+?)\)|([~^$*|]?)=(("|')(?:\\?.)*?\6|[-\w]+))?]?/g,X=/([\s>+]*)(?:("|')(?:\\?.)*?\2|\(.+?\)|[^\s+>])+$/,W=/\s*,\s*(?=(?:[^'"()]|"(?:\\?.)*?"|'(?:\\?.)*?'|\(.+?\))+$)/,E={},G={"first-child":"(a=_.parentNode)&&a.firstChild==_","last-child":"(a=_.parentNode)&&a.lastChild==_",".":"~_.className.split(/\\s+/).indexOf(a)","#":"_.id==a",
"^":"a.indexOf(v)==0","|":"a.split('-')[0]==v",$:"a.slice(-v.length)==v","~":"~a.split(/\\s+/).indexOf(v)","*":"~a.indexOf(v)"};r.El=f;e.append=p;e.after=function(a,b){p.call(a.parentNode,this,b?a:a.nextSibling);return this};e.to=function(a,b){p.call(a,this,b);return this};e.hasClass=x;e.addClass=y;e.rmClass=H;e.toggleClass=I;e.empty=function(){for(var a;a=this.firstChild;)J.call(a);return this};e.kill=J;e.on=function(a,b){Event.add(this,a,b);return this};e.non=function(a,b){Event.remove(this,a,b);
return this};e.attr=m;var L=0,Z=f.global={window:r,i18n:g};f.getScope=q;e.render=M;e.txt=function(a){return arguments.length?this[U]=a:this[U]};e.val=function(a){var b=this,c=b.type,d=b.options;if(arguments.length)return b.value=a;if("select-multiple"==c){a=[];for(c=0;b=d[c++];)!b.selected||b.disabled||b.parentNode.disabled||a.push(b.value);return a}return"checkbox"!=c&&"radio"!=c||b.checked?b.value||options&&options[b.selectedIndex].value||"on":""};e.matches||(e.matches=function(a){return!!D(a)(this)});
e.closest||(e.closest=function(a){for(var b=this;b;b=b.parentNode)if(b.matches&&b.matches(a))return b;return null});e.find="\v"!=="v"&&e.querySelector||function(a){return C(this,a,!0)};e.findAll=e.querySelectorAll?function(a){return new v(this.querySelectorAll(a))}:function(a){return new v(C(this,a))};f.wrap=v;v.prototype=Object.keys(e).reduce(function(a,b){a[b]=function(){for(var a=this._nodes,d=0,f=a.length;d<f;)e[b].apply(a[d++],arguments);return this};return a},{});e===f[t]&&(h.createElement=
function(a){return Object.merge(K(a),e)},Object.merge(T,e));f[t]=e;f.get=function(a){"string"==typeof a&&(a=h.getElementById(a));return a&&a.to?a:Object.merge(a,e)};z.prototype.done=function(){w[this.name]=this.el.removeChild(this.el.firstChild);this.el.plugin=null;return this.parent};f.plugins={template:z};f.create=f.tpl=P;f.include=function(a,b,c){b=f.get(a);(new z(null,a)).el.append(P(b.innerHTML)).plugin.done();b.kill()};f.i18n=g;g.get=A;g.list=[];g.use=R;g.add=S;g.def=function(a){Object.each(a,
function(b,c){S(c,a)})};String[t].lang=function(a){return g(this,a)};B.raw=B.once=1}(window,document,"prototype");
