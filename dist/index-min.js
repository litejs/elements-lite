/*
    MIT License
*/
!function(q,g,r){function f(a,b){var c,d={};a=a.replace(y,function(a,b,c,e,f){d["."==b?(b="class",d[b]&&(c=d[b]+" "+c),b):"#"==b?"id":c]=(f?e.slice(1,-1):e)||c;return""})||"div";c=(n[a]||(n[a]=g.createElement(a))).cloneNode(!0).set(d);return h[a]&&h[a].call(c,b)||c.set(b)}function k(a,b){if(a){if("string"==typeof a||"number"==typeof a)a=f.text(a);else if(!("nodeType"in a)&&"length"in a){for(var c=a.length,d=0,e=g.createDocumentFragment();d<c;)k.call(e,a[d++]);a=e}a.nodeType&&this.insertBefore(a,(!0===
b?this.firstChild:"number"==typeof b?this.childNodes[0>b?this.childNodes.length-b-2:b]:b)||null);a.appendHook&&a.appendHook()}return this}function s(a){return RegExp("\\b"+a+"\\b").test(this.className)}function t(a){this.className+=this.className?s.call(this,a)?"":" "+a:a;return this}function z(a){this.className=(" "+this.className+" ").replace(" "+a+" "," ").trim();return this}function A(){this.parentNode&&this.parentNode.removeChild(this);Event.removeAll&&Event.removeAll(this);this.killHook&&this.killHook();
this.empty&&this.empty();return this}function D(a){var b,c=a._childs;if(!c)for(a._childs=c=[];b=a.firstChild;)c.push(b),a.removeChild(b);return c}function m(a,b){var c,d=this;if(c=!b&&d.getAttribute("data-call"))console.log("node",d,c),h[c].call(d);if(c=!b&&d.getAttribute("data-bind"))if(d.getAttribute("lang"),"{"==c.charAt(0)&&(c='txt:"'+c.replace(/"/g,'\\"')+'"'),c="n d p r->d&&("+c.replace(E,"(p['$1']?(r=p['$1'](n,d,$2)||r):(n['$1']=$2.format(d))),")+"r)",c.fn()(d,a,F))return d;for(d=d.firstChild;d;d=
d.nextSibling)1==d.nodeType&&m.call(d,a);return this}function B(a,b,c){var d=0,e=[],f=["_"];b=b.replace(y,function(a,b,c,d){f.push("."==b?"(' '+_.className+' ').indexOf(' "+c+" ')>-1":"#"==b?"_.id=='"+c+"'":"_.getAttribute('"+c+"')"+(d?"=='"+d+"'":""));return""})||"*";b=a.getElementsByTagName(b);for(var g=Fn(f.join("&&"));a=b[d++];)if(g(a)){if(c)return a;e.push(a)}return c?null:e}function u(a){this._nodes=a}function v(a,b){if(a)for(b in e)a[b]=e[b];return a}function w(a,b,c){n[a]="string"==typeof b?
f(b):b;c&&(c!=m&&b.setAttribute("data-call",a),h[a]=c)}function p(a){function b(a,c,g,h,k,l){for(k=c.length;k<=e[0];)e.shift(),d=d.plugin?d.plugin.done():d.parentNode;g?p.plugins[h]?(d=(new p.plugins[h](d,l)).el,e.unshift(k)):d.append(f.text("text"==h?l:a)):(h&&(d=f(h).to(d),e.unshift(k)),l&&(">"==l.charAt(0)?(c+" "+l.slice(1)).replace(C,b):"="==l.charAt(0)?d.set({"data-bind":l.slice(1)}):d.append(l.replace(/\\([=>:])/g,"$1"))))}var c=document.createDocumentFragment(),d=c,e=[-1];a.replace(C,b);e=
c.childNodes;if(1==e.length)return e[0];a=[];for(c=e.length;c--;)a[c]=e[c];return a}function x(a,b){this.name=b;this.parent=a;this.el=f("div");this.el.plugin=this;return this}var n={},h={},e=(q.HTMLElement||q.Element||f)[r],y=/([.#:[])([-\w]+)(?:=((["'\/])(?:\\.|.)*?\4|[-\w]+)])?]?/g,C=/^([ \t]*)(\:?)((?:(["'\/])(?:\\.|.)*?\4|[-\w\:.#\[\]=])+)[ \t]*(.*)$/gm,E=/[;\s]*(\w+)(?:\s*\:((?:(["'\/])(?:\\.|.)*?\3|[-,\s\w])*))?/g,F=f.bindings={txt:function(a,b,c){a.txt(c.format(b))},"class":function(a,b,c,
d){a.toggleClass(c,d.fn("_")(b))},html:function(a,b,c){a.innerHTML=c.format(b)},each:function(a,b,c){var d=D(a);c&&a.empty().append(c.map(function(a){return d.map(function(b){return m.call(b.cloneNode(!0),a)})}));return a}};e.append=k;e.after=function(a,b){k.call(a.parentNode,this,b?a:a.nextSibling);return this};e.to=function(a,b){k.call(a,this,b);return this};e.hasClass=s;e.addClass=t;e.rmClass=z;e.toggleClass=function(a,b){1==arguments.length&&(b=!s.call(this,a));return(b?t:z).call(this,a),b};e.empty=
function(){for(var a;a=this.firstChild;)A.call(a);return this};e.kill=A;e.on=function(a,b){Event.add(this,a,b);return this};e.non=function(a,b){Event.remove(this,a,b);return this};e.set=function(a){var b,c=typeof a;if(!a)return this;if("string"==c||"number"==c||a.nodeType||"length"in a)k.call(this,a);else for(c in a)b=a[c],"class"==c?t.call(this,b):b?"string"==typeof b?(this.setAttribute(c,b),"id"!=c&&"name"!=c||"\v"!="v"||this.mergeAttributes(g.createElement("<INPUT "+c+'="'+b+'"/>'),!1)):this[c]=
b:this.removeAttribute(c);return this};e.render=m;e.txt=function(a){var b="textContent"in this?"textContent":"innerText";return arguments.length?this[b]=a:this[b]};e.find="\v"!=="v"&&e.querySelector||function(a){return B(this,a,!0)};e.findAll=e.querySelectorAll?function(a){return new u(this.querySelectorAll(a))}:function(a){return new u(B(this,a))};u.prototype=Object.keys(e).reduce(function(a,b){a[b]=function(){for(var a=this._nodes,d=0,f=a.length;d<f;)e[b].apply(a[d++],arguments);return this};return a},
{});if(e===f[r]){var G=g.createElement;g.createElement=function(a){return v(G(a))};v(g.body)}q.El=f;f[r]=e;f.get=function(a){"string"==typeof a&&(a=g.getElementById(a));return a&&a.to?a:v(a)};w._el=n;w._fn=h;f.cache=w;f.text=function(a){return g.createTextNode(a)};x.prototype.done=function(){f.cache(this.name,this.el.removeChild(this.el.firstChild),m);this.el.plugin=null;return this.parent};p.plugins={template:x};f.tpl=p;f.include=function(a,b,c){b=f.get(a);(new x(null,a)).el.append(f.tpl(b.innerHTML)).plugin.done();
b.kill()}}(window,document,"prototype");
