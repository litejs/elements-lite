!function(v,l,w){function F(a,b,c){for(var g=[],m=a.firstChild,d=G(b);b=m;){if(d(b)){if(c)return b;g.push(b)}for(m=b.firstChild||b.nextSibling;!m&&(b=b.parentNode)!==a;)m=b.nextSibling}return c?null:g}function G(a){return H[a]||(H[a]=Function("_,v,a,b","return "+a.split(Y).map(function(a){var c,g,m=["_&&_.nodeType==1"],d=a.replace(Z,function(a,b,d,m){g=m+b.length;c=b.trim();return""});(a=a.slice(g).replace(I,function(a,b,c,g,d,e,f){m.push("((v='"+(g||(f?e.slice(1,-1):e)||"").replace(/'/g,"\\'")+"'),(a='"+
c+"'),1)",J[":"==b?c:b]||"(a=_.getAttribute(a))"+(d?"&&"+J[d]:e?"==v":""));return""}))&&"*"!=a&&(m[0]+="&&_.nodeName=='"+a.toUpperCase()+"'");d&&m.push("+"==c?"(a=_.previousSibling)":"(a=_.parentNode)",(c?"a.matches&&a.matches('":"a.closest&&a.closest('")+d+"')");return m.join("&&")}).join("||")))}function e(a,b,c){var g={};a=a.replace(I,function(a,b,c,d,e,h,f){h=f?h.slice(1,-1):h||c;g[b="."==b?(e="~","class"):"#"==b?"id":c]=e&&g[b]?"^"==e?h+g[b]:g[b]+("~"==e?" ":"")+h:h;return""})||"div";a=(y[a]||
(y[a]=l.createElement(a))).cloneNode(!0).attr(g);return c||!b?a:("object"==typeof b?p:u).call(a,b)}function u(a,b){var c,g=0,d=typeof a;if(a){if("string"==d||"number"==d)a=l.createTextNode(a);else if(!("nodeType"in a)&&"length"in a){d=a.length;for(c=l.createDocumentFragment();g<d;)u.call(c,a[g++]);a=c}a.nodeType&&(d=this.insertBefore?this:this[this.length-1],d.insertBefore(a,(!0===b?d.firstChild:"number"==typeof b?d.childNodes[0>b?d.childNodes.length-b-2:b]:b)||null))}return this}function z(a){return-1<
this.className.split(/\s+/).indexOf(a)}function A(a){this.className+=this.className?z.call(this,a)?"":" "+a:a;return this}function K(a){this.className=(" "+this.className+" ").replace(" "+a+" "," ").trim();return this}function L(a,b){1==arguments.length&&(b=!z.call(this,a));return(b?A:K).call(this,a),b}function M(){var a;this.emit&&this.emit("kill");this.parentNode&&this.parentNode.removeChild(this);Event.removeAll&&Event.removeAll(this);this.empty&&this.empty();(a=this.attr&&this.attr("data-scope"))&&
delete k[a];return this}function p(a,b){var c=this;if(1==arguments.length)return a&&a.constructor==Object?(Object.each(a,function(a,b){p.call(c,b,a)}),c):c.getAttribute(a);!aa||"id"!=a&&"name"!=a&&"checked"!=a?"class"==a?A.call(c,b):b?c.setAttribute(a,b):c.removeAttribute(a):c.mergeAttributes(N("<INPUT "+a+'="'+b+'">'),!1)}function k(a,b,c){if(c=k[a.attr("data-scope")])return c;b&&!0!==b||(c=(c=a.closest("[data-scope]"))&&k[c.attr("data-scope")]||O);b&&(a.attr("data-scope",++P),c=k[P]=Object.create(b=
c||b),c._super=b);return c}function Q(a,b){var c,g,d;if(1!=this.nodeType)return this;a=k[this.attr("data-scope")]||a||(c=this.closest("[data-scope]"))&&k[c.attr("data-scope")]||O;if(c=!b&&p.call(this,"data-bind"))if(g=c,d="data b r->data&&("+c.replace(ba,function(a,b,c){return r[b]?(R.call(r[b],"once")&&(g=g.replace(a,"")),"(r=b['"+b+"'].call(this,"+(r[b].raw?"data,'"+c+"'":c)+")||r),"):"this.attr('"+b+"',"+c+"),"})+"r)",c!=g&&p.call(this,"data-bind",g),Fn(d,"data").call(this,a,r))return this;for(c=
this.firstChild;c;c=c.nextSibling)Q.call(c,a);B&&"SELECT"==this.nodeName&&this.parentNode.insertBefore(this,this);return this}function t(a){x.push.apply(this,a)}function S(a){function b(a,c,l,n,h,k){for(h=c.length;h<=f[0];)f.shift(),d=d.plugin?d.plugin.done():d.parentNode||d[0].parentNode;l?e.plugins[n]?(d=(new e.plugins[n](d,k)).el,f.unshift(h)):d.append(a):(n&&(d=e(n,0,1).to(d),f.unshift(h)),k&&(h=k.charAt(0),n=k.slice(1),">"==h?(c+" "+n).replace(T,b):"|"==h||"\\"==h?d.append(n):"/"!=h&&("&"!=h&&
(n="txt:_('"+k.replace(/'/g,"\\'")+"').format(data)"),h=p.call(d,"data-bind"),p.call(d,"data-bind",(h?h+";":"")+n))))}var c=l.createDocumentFragment(),d=c,f=[-1];a.replace(T,b);c=c.childNodes;return 1==c.length?c[0]:c}function C(a,b){this.name=b;this.parent=a;this.el=e("div");this.el.plugin=this;return this}function f(a,b){b=f[D(b)];return b[a]||b[a=a.slice(a.indexOf(":")+1)||a]||a}function D(a){return a&&(f[a=(""+a).toLowerCase()]||f[a=a.split("-")[0]])?a:q}function U(a){q!=(q=D(a))&&(f[q]=f[q]||
{});return l.documentElement.lang=q}function V(a,b){-1==f.list.indexOf(a)&&f.list.push(a);Object.merge(f[a]||(f[a]={}),b);q||U(a)}function E(a,b){var c,d=this._childs;if(!d)for(this._childs=d=[];c=this.firstChild;)d.push(c),this.removeChild(c);c=d[0];d=/^\s*(\w+) in (\w*)(.*)/.exec(b);d="with(data){var out=[],loop={i:0,offset:0},_1,_2="+d[2]+d[3].replace(/ (limit|offset):\s*(\d+)/ig,";loop.$1=$2")+";if(_2)for(_1 in _2)if(hasOwn.call(_2,_1)&&!(loop.offset&&loop.offset--)){loop.i++;if(loop.limit&&loop.i-loop.offset>loop.limit)break;var clone=el.cloneNode(true),scope=El.scope(clone,data);scope.loopKey=loop.key=_1;scope.loop=loop;scope."+
d[1]+"=_2[_1];out.push(clone);};return out}";c=Function("hasOwn,el,data",d)(R,c,a);this.empty().append(c).render();return this}var q,B=!+"\v1",aa=B&&8>(l.documentMode|0),R=Object.prototype.hasOwnProperty,W=l.body,N=l.createElement,X="textContent"in W?"textContent":"innerText",y=e.cache={},d=(v.HTMLElement||v.Element||e)[w],T=/^([ \t]*)(@?)((?:("|')(?:\\?.)*?\4|[-\w\:.#\[\]=])*)[ \t]*(.*?)$/gm,ba=/[;\s]*(\w+)(?:\s*\:((?:(["'\/])(?:\\?.)*?\3|[^;])*))?/g,r=e.bindings={"class":function(a,b){L.call(this,
a,null==b||b)},each:E,html:function(a){this.innerHTML=a}},I=/([.#:[])([-\w]+)(?:\((.+?)\)|([~^$*|]?)=(("|')(?:\\?.)*?\6|[-\w]+))?]?/g,Z=/([\s>+]*)(?:("|')(?:\\?.)*?\2|\(.+?\)|[^\s+>])+$/,Y=/\s*,\s*(?=(?:[^'"()]|"(?:\\?.)*?"|'(?:\\?.)*?'|\(.+?\))+$)/,H={},J={"first-child":"(a=_.parentNode)&&a.firstChild==_","last-child":"(a=_.parentNode)&&a.lastChild==_",".":"~_.className.split(/\\s+/).indexOf(a)","#":"_.id==a","^":"a.indexOf(v)==0","|":"a.split('-')[0]==v",$:"a.slice(-v.length)==v","~":"~a.split(/\\s+/).indexOf(v)",
"*":"~a.indexOf(v)"};v.El=e;d.append=u;d.after=function(a,b){u.call(a.parentNode,this,b?a:a.nextSibling);return this};d.to=function(a,b){u.call(a,this,b);return this};d.hasClass=z;d.addClass=A;d.rmClass=K;d.toggleClass=L;d.empty=function(){for(var a;a=this.firstChild;)M.call(a);return this};d.kill=M;d.on=function(a,b){Event.add(this,a,b);return this};d.non=function(a,b){Event.remove(this,a,b);return this};d.emit=function(){Event.Emitter.emit.apply(this,arguments)};d.attr=p;var P=0,O=e.data={window:v,
_:f};e.scope=k;d.render=Q;d.txt=r.txt=function(a){return arguments.length?this[X]=a:this[X]};d.val=r.val=function(a){var b=this,c=b.type,d=b.options;if(arguments.length)return b.value=a;if("select-multiple"==c){a=[];for(c=0;b=d[c++];)!b.selected||b.disabled||b.parentNode.disabled||a.push(b.value);return a}return"checkbox"!=c&&"radio"!=c||b.checked?b.value||options&&options[b.selectedIndex].value||"on":""};d.matches||(d.matches=function(a){return!!G(a)(this)});d.closest||(d.closest=function(a){for(var b=
this;b;b=b.parentNode)if(b.matches&&b.matches(a))return b;return null});d.find=!B&&d.querySelector||function(a){return F(this,a,!0)};d.findAll=d.querySelectorAll?function(a){return new t(this.querySelectorAll(a))}:function(a){return new t(F(this,a))};var x=[];e.wrap=t;t.prototype=Object.keys(d).reduce(function(a,b){function c(){for(var a,e=0,f=this.length;e<f;)if(a=d[b].apply(this[e++],arguments),c.first&&a)return a;return c.first?null:this}a[b]=c;return a},x);x.find.first=1;x.cloneNode=function(a){return new t(this.map(function(b){return b.cloneNode(a)}))};
d==e[w]&&(l.createElement=function(a){return Object.merge(N(a),d)},Object.merge(W,d));e[w]=d;e.get=function(a){"string"==typeof a&&(a=l.getElementById(a));return a&&a.to?a:Object.merge(a,d)};C.prototype={_done:function(){var a=1<this.el.childNodes.length?new t(this.el.childNodes):this.el.firstChild;this.el.plugin=this.el=this.parent=null;return a},done:function(){var a=this.parent;y[this.name]=this._done();return a}};e.plugins={template:C};e.create=e.tpl=S;e.include=function(a,b,c){b=e.get(a);(new C(null,
a)).el.append(S(b.innerHTML)).plugin.done();b.kill()};e.i18n=f;f.get=D;f.list=[];f.use=U;f.add=V;f.def=function(a){Object.each(a,function(b,c){V(c,a)})};String[w].lang=function(a){return f(this,a)};E.raw=E.once=1}(window,document,"prototype");
