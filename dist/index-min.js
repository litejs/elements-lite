!function(u,h,v){function E(a,b,d){for(var g=[],c=a.firstChild,e=F(b);b=c;){if(e(b)){if(d)return b;g.push(b)}for(c=b.firstChild||b.nextSibling;!c&&(b=b.parentNode)!==a;)c=b.nextSibling}return d?null:g}function F(a){return G[a]||(G[a]=Function("_,v,a,b","return "+a.split(X).map(function(a){var d,g,c=["_&&_.nodeType==1"],e=a.replace(Y,function(a,b,c,e){g=e+b.length;d=b.trim();return""});(a=a.slice(g).replace(H,function(a,b,d,g,e,f,W){c.push("((v='"+(g||(W?f.slice(1,-1):f)||"").replace(/'/g,"\\'")+"'),(a='"+
d+"'),1)",I[":"==b?d:b]||"(a=_.getAttribute(a))"+(e?"&&"+I[e]:f?"==v":""));return""}))&&"*"!=a&&(c[0]+="&&_.nodeName=='"+a.toUpperCase()+"'");e&&c.push("+"==d?"(a=_.previousSibling)":"(a=_.parentNode)",(d?"a.matches&&a.matches('":"a.closest&&a.closest('")+e+"')");return c.join("&&")}).join("||")))}function e(a,b,d){var g={};a=a.replace(H,function(a,b,d,c,e,f,h){f=h?f.slice(1,-1):f||d;g[b="."==b?(e="~","class"):"#"==b?"id":d]=e&&g[b]?"^"==e?f+g[b]:g[b]+("~"==e?" ":"")+f:f;return""})||"div";a=(x[a]||
(x[a]=h.createElement(a))).cloneNode(!0).attr(g);return d||!b?a:("object"==typeof b?n:t).call(a,b)}function t(a,b){var d,g=0,c=typeof a;if(a){if("string"==c||"number"==c)a=h.createTextNode(a);else if(!("nodeType"in a)&&"length"in a){c=a.length;for(d=h.createDocumentFragment();g<c;)t.call(d,a[g++]);a=d}a.nodeType&&this.insertBefore(a,(!0===b?this.firstChild:"number"==typeof b?this.childNodes[0>b?this.childNodes.length-b-2:b]:b)||null);a.appendHook&&a.appendHook()}return this}function y(a){return-1<
this.className.split(/\s+/).indexOf(a)}function z(a){this.className+=this.className?y.call(this,a)?"":" "+a:a;return this}function J(a){this.className=(" "+this.className+" ").replace(" "+a+" "," ").trim();return this}function K(a,b){1==arguments.length&&(b=!y.call(this,a));return(b?z:J).call(this,a),b}function L(){var a;this.emit&&this.emit("kill");this.parentNode&&this.parentNode.removeChild(this);Event.removeAll&&Event.removeAll(this);this.empty&&this.empty();(a=this.attr&&this.attr("data-scope"))&&
delete p[a];return this}function n(a,b){var d=this;if(1==arguments.length)return a&&a.constructor==Object?(Object.each(a,function(a,b){n.call(d,b,a)}),d):d.getAttribute(a);!Z||"id"!=a&&"name"!=a&&"checked"!=a?"class"==a?z.call(d,b):b?d.setAttribute(a,b):d.removeAttribute(a):d.mergeAttributes(M("<INPUT "+a+'="'+b+'">'),!1)}function p(a,b){return p[a.attr("data-scope")]||(a.attr("data-scope",++N),a=p[N]=Object.create(b),a._super=b,a)}function O(a,b){var d,g,c;if(1!=this.nodeType)return this;a=p[this.attr("data-scope")]||
a||(d=this.closest("[data-scope]"))&&p[d.attr("data-scope")]||aa;if(d=!b&&n.call(this,"data-bind"))if(g=d,c="data b r->data&&("+d.replace(ba,function(a,b,d){return q[b]?(P.call(q[b],"once")&&(g=g.replace(a,"")),"(r=b['"+b+"'].call(this,"+(q[b].raw?"data,'"+d+"'":d)+")||r),"):"this.attr('"+b+"',"+d+"),"})+"r)",d!=g&&n.call(this,"data-bind",g),Fn(c,"data").call(this,a,q))return this;for(d=this.firstChild;d;d=d.nextSibling)O.call(d,a);A&&"SELECT"==this.nodeName&&this.parentNode.insertBefore(this,this);
return this}function r(a){w.push.apply(this,a)}function Q(a){function b(a,d,h,m,k,l){for(k=d.length;k<=f[0];)f.shift(),c=c.plugin?c.plugin.done():c.parentNode;h?e.plugins[m]?(c=(new e.plugins[m](c,l)).el,f.unshift(k)):c.append(a):(m&&(c=e(m,0,1).to(c),f.unshift(k)),l&&(k=l.charAt(0),m=l.slice(1),">"==k?(d+" "+m).replace(R,b):"|"==k||"\\"==k?c.append(m):"/"!=k&&("&"!=k&&(m="txt:El.i18n('"+l.replace(/'/g,"\\'")+"').format(data)"),k=n.call(c,"data-bind"),n.call(c,"data-bind",(k?k+";":"")+m))))}var d=
h.createDocumentFragment(),c=d,f=[-1];a.replace(R,b);d=d.childNodes;return 1==d.length?d[0]:d}function B(a,b){this.name=b;this.parent=a;this.el=e("div");this.el.plugin=this;return this}function f(a,b){b=f[C(b)];return b[a]||b[a=a.slice(a.indexOf(":")+1)||a]||a}function C(a){return a&&(f[a=(""+a).toLowerCase()]||f[a=a.split("-")[0]])?a:l}function S(a){l!=(l=C(a))&&(f[l]=f[l]||{});return h.documentElement.lang=l}function T(a,b){-1==f.list.indexOf(a)&&f.list.push(a);Object.merge(f[a]||(f[a]={}),b);l||
S(a)}function D(a,b){var d,c=this._childs;if(!c)for(this._childs=c=[];d=this.firstChild;)c.push(d),this.removeChild(d);d=c[0];c=/^\s*(\w+) in (\w*)(.*)/.exec(b);c="with(data){var out=[],loop={i:0,offset:0},_1,_2="+c[2]+c[3].replace(/ (limit|offset):\s*(\d+)/ig,";loop.$1=$2")+";if(_2)for(_1 in _2)if(hasOwn.call(_2,_1)&&!(loop.offset&&loop.offset--)){loop.i++;if(loop.limit&&loop.i-loop.offset>loop.limit)break;loop.key=_1;var clone=el.cloneNode(true),scope=El.scope(clone,data);scope.loop=loop;scope."+
c[1]+"=_2[_1];out.push(clone);};return out}";d=Function("hasOwn,el,data",c)(P,d,a);this.empty().append(d).render();return this}var l,A=!+"\v1",Z=A&&8>(h.documentMode|0),P=Object.prototype.hasOwnProperty,U=h.body,M=h.createElement,V="textContent"in U?"textContent":"innerText",x=e.cache={},c=(u.HTMLElement||u.Element||e)[v],R=/^([ \t]*)(@?)((?:("|')(?:\\?.)*?\4|[-\w\:.#\[\]=])*)[ \t]*(.*?)$/gm,ba=/[;\s]*(\w+)(?:\s*\:((?:(["'\/])(?:\\?.)*?\3|[^;])*))?/g,q=e.bindings={"class":function(a,b){K.call(this,
a,null==b||b)},each:D,html:function(a){this.innerHTML=a}},H=/([.#:[])([-\w]+)(?:\((.+?)\)|([~^$*|]?)=(("|')(?:\\?.)*?\6|[-\w]+))?]?/g,Y=/([\s>+]*)(?:("|')(?:\\?.)*?\2|\(.+?\)|[^\s+>])+$/,X=/\s*,\s*(?=(?:[^'"()]|"(?:\\?.)*?"|'(?:\\?.)*?'|\(.+?\))+$)/,G={},I={"first-child":"(a=_.parentNode)&&a.firstChild==_","last-child":"(a=_.parentNode)&&a.lastChild==_",".":"~_.className.split(/\\s+/).indexOf(a)","#":"_.id==a","^":"a.indexOf(v)==0","|":"a.split('-')[0]==v",$:"a.slice(-v.length)==v","~":"~a.split(/\\s+/).indexOf(v)",
"*":"~a.indexOf(v)"};u.El=e;c.append=t;c.after=function(a,b){t.call(a.parentNode,this,b?a:a.nextSibling);return this};c.to=function(a,b){t.call(a,this,b);return this};c.hasClass=y;c.addClass=z;c.rmClass=J;c.toggleClass=K;c.empty=function(){for(var a;a=this.firstChild;)L.call(a);return this};c.kill=L;c.on=function(a,b){Event.add(this,a,b);return this};c.non=function(a,b){Event.remove(this,a,b);return this};c.emit=function(){Event.Emitter.emit.apply(this,arguments)};c.attr=n;var N=0,aa=e.data={window:u,
i18n:f};e.scope=p;c.render=O;c.txt=q.txt=function(a){return arguments.length?this[V]=a:this[V]};c.val=q.val=function(a){var b=this,c=b.type,e=b.options;if(arguments.length)return b.value=a;if("select-multiple"==c){a=[];for(c=0;b=e[c++];)!b.selected||b.disabled||b.parentNode.disabled||a.push(b.value);return a}return"checkbox"!=c&&"radio"!=c||b.checked?b.value||options&&options[b.selectedIndex].value||"on":""};c.matches||(c.matches=function(a){return!!F(a)(this)});c.closest||(c.closest=function(a){for(var b=
this;b;b=b.parentNode)if(b.matches&&b.matches(a))return b;return null});c.find=!A&&c.querySelector||function(a){return E(this,a,!0)};c.findAll=c.querySelectorAll?function(a){return new r(this.querySelectorAll(a))}:function(a){return new r(E(this,a))};var w=[];e.wrap=r;r.prototype=Object.keys(c).reduce(function(a,b){function d(){for(var a,e=0,f=this.length;e<f;)if(a=c[b].apply(this[e++],arguments),d.first&&a)return a;return d.first?null:this}a[b]=d;return a},w);w.find.first=1;w.cloneNode=function(a){return new r(this.map(function(b){return b.cloneNode(a)}))};
c==e[v]&&(h.createElement=function(a){return Object.merge(M(a),c)},Object.merge(U,c));e[v]=c;e.get=function(a){"string"==typeof a&&(a=h.getElementById(a));return a&&a.to?a:Object.merge(a,c)};B.prototype={_done:function(){var a=1<this.el.childNodes.length?new r(this.el.childNodes):this.el.firstChild;this.el.plugin=this.el=this.parent=null;return a},done:function(){var a=this.parent;x[this.name]=this._done();return a}};e.plugins={template:B};e.create=e.tpl=Q;e.include=function(a,b,c){b=e.get(a);(new B(null,
a)).el.append(Q(b.innerHTML)).plugin.done();b.kill()};e.i18n=f;f.get=C;f.list=[];f.use=S;f.add=T;f.def=function(a){Object.each(a,function(b,c){T(c,a)})};String[v].lang=function(a){return f(this,a)};D.raw=D.once=1}(window,document,"prototype");
