!function(m,r){function h(a){function d(a,b,g,k,l,f){for(l=b.length;l<=e[0];)e.shift(),c=c.plugin?c.plugin.done():c.parentNode;g?h.plugins[k]?(c=(new h.plugins[k](c,f)).el,e.unshift(l)):c.append(El.text(a)):(k&&(c=El(k).to(c),e.unshift(l)),f&&(">"==f.charAt(0)?(b+" "+f.slice(1)).replace(p,d):"="==f.charAt(0)?c.set({"data-bind":f.slice(1)}):c.append(f.replace(/\\([=>:])/g,"$1"))))}var b=r.createDocumentFragment(),c=b,e=[-1];a.replace(p,d);e=b.childNodes;if(1==e.length)return e[0];a=[];for(b=e.length;b--;)a[b]=
e[b];return a}function n(a,d){this.name=d;this.parent=a;this.el=El("div");this.el.plugin=this;return this}function q(a){var d,b=a._template;if(!b)for(a._template=b=[];d=a.firstChild;)b.push(d),a.removeChild(d);return b}function g(a,d){var b,c=this;if(b=!d&&c.getAttribute("data-bind"))return c.getAttribute("lang"),b="node data plugins->data&&("+b.replace(s,"(plugins['$1']?plugins['$1'](node,data,$2):(node['$1']=$2.format(data))),")+"true)",b.fn("data")(c,a,h.bindings),c;for(c=c.firstChild;c;c=c.nextSibling)1==
c.nodeType&&g.call(c,a);return this}var p=/^([ \t]*)(\:?)((?:(["'\/])(?:\\.|.)*?\4|[-\w\:.#\[\]=])+)[ \t]*(.*)$/gm,s=/[;\s]*(\w+)(?:\s*\:((?:(["'\/])(?:\\.|.)*?\3|[-,\s\w])*))?/g;n.prototype.done=function(){El.cache(this.name,this.el.removeChild(this.el.firstChild),g);this.el.plugin=null;return this.parent};h.plugins={template:n};m.haml=h;m.include=function(a,d,b){d=El.get(a);(new n(null,a)).el.append(El.haml(d.innerHTML)).plugin.done();d.kill()};h.bindings={txt:function(a,d,b){a.txt(b.format(d))},
"class":function(a,d,b,c){a.toggleClass(b,c.fn("_")(d))},html:function(a,d,b){a.innerHTML=b.format(d)},"with":function(a,d,b){g.call(a,b,!0)},"if":function(a,d,b){var c=q(a);a.empty().append(b.fn("_")(d)&&c)},each:function(a,d,b){var c=q(a);b&&a.empty().append(b.map(function(a){return c.map(function(b){return g.call(b.cloneNode(!0),a)})}))}};m.prototype.render=g}(window.El||this,window.document);